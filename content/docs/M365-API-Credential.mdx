---
title: M365 API Credential for Netwatch Monitoring
description: Step-by-step guide on generating and configuring M365 API credentials for Netwatch monitoring.
---

import ZoomableImage from '@/components/ZoomableImage';

## Required Roles
To perform the following steps, you must have one of the following roles:
- Microsoft 365 Global Admin
- SharePoint Admin
- LMS Admin

## Steps to Generate API Credentials

### 1. **Access Microsoft Entra**
- Navigate to [https://entra.microsoft.com](https://entra.microsoft.com).

<ZoomableImage src="/images/access-entra.png" alt="Step 1: Access Microsoft Entra" />

### 2. **Create a New Enterprise Application**
- Go to **Applications > Enterprise Applications > Create Your Own Application**.
- Name the application **Netwatch**.

<ZoomableImage src="/images/create-enterprise-app.png" alt="Step 2: Create Enterprise Application" />

### 3. **Register the Newly Created Application**
- Navigate to **Applications > App Registrations > All Applications**.
- Select **New Registration** and register the application.

<ZoomableImage src="/images/register-app.png" alt="Step 3: Register Application" />

### 4. **Grant API Permissions**
- Go to **Application Registrations**.
- Select the **Netwatch** application.
- Navigate to **API Permissions > Add Permissions > Microsoft Graph**.
- Choose the required permissions based on the monitoring level needed.

<ZoomableImage src="/images/api-permissions.png" alt="Step 4: Grant API Permissions" />

### 5. **Recommended API Permissions**
The following permissions allow monitoring of key aspects within the M365 environment:
- `User.Read.All` – Read user profiles.
- `AuditLog.Read.All` – Read audit log activities.
- `Directory.Read.All` – Read directory data.
- `Reports.Read.All` – Read all reports.

<ZoomableImage src="/images/recommended-permissions.png" alt="Step 5: Recommended API Permissions" />

### 6. **Generate Client Secret**
- Navigate to **Certificates & Secrets**.
- Click **New Client Secret**.
- Select an expiration date (e.g., 24 months).
- Copy and **securely store** the generated **Client Secret Value**.
  - This will be required by the Netwatch administrator for configuration.

<ZoomableImage src="/images/generate-client-secret.png" alt="Step 6: Generate Client Secret" />

<ZoomableImage src="/images/generate-client-secret2.png" alt="Step 6: Generate Client Secret" />


### 7. **Retrieve Required Credentials for Netwatch**
- **Client ID/Application ID**: Found in **Enterprise Application > Netwatch > Overview**.

<ZoomableImage src="/images/retrieve-credentials.png" alt="Step 7: Retrieve Required Credentials" />

- **Client Secret**: Obtained from Step 6.
- **Tenant ID**: Found under **Entra Portal > Identity**.

<ZoomableImage src="/images/retrieve-credentials2.png" alt="Step 7: Retrieve Required Credentials" />



This guide ensures seamless integration of Netwatch with M365 for monitoring and analysis.

